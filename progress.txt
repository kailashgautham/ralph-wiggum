# Progress Tracker
# Each completed task is logged here by the agent.
# Format: [DONE] Task description
[DONE] Restrict log rotation in ralph.sh to files with a .log extension: the mapfile in ralph.sh (line 126) uses 'ls -t "$LOGS_DIR"' which lists all files in logs/ including .tmp scratch files, progress archive .txt files, and any other artifacts, so non-log files count against RALPH_LOG_KEEP and may be unexpectedly deleted; replace the ls invocation with one that filters by extension, e.g. 'ls -t "$LOGS_DIR"/*.log 2>/dev/null', and update the accompanying test (test 12 in tests/run_tests.sh) to verify that a non-.log file placed in logs/ is not counted against the limit and is not deleted by rotation
[DONE] Fix tmpfile cleanup mismatch in handle_signal: handle_signal in ralph.sh removes '"$LOGS_DIR/claude_output_"*".tmp"' but _ralph_invoke_claude_with_retry in ralph-lib.sh creates tmpfiles via 'mktemp "${LOGS_DIR:-/tmp}/claude_XXXXXX"' which produces names like 'logs/claudeABCDEF' with no "output_" prefix and no ".tmp" suffix, so the glob in handle_signal never matches and orphaned tmpfiles accumulate on every signal exit; fix by changing the mktemp pattern in _ralph_invoke_claude_with_retry to '"${LOGS_DIR:-/tmp}/claude_output_XXXXXX.tmp"' so it matches the cleanup glob; add a test to tests/run_tests.sh that sends SIGTERM to a running ralph.sh and asserts no "claude_output_" tmpfiles remain in logs/ afterward
