# Progress Tracker
# Each completed task is logged here by the agent.
# Format: [DONE] Task description

[DONE] Fix entrypoint.sh default git identity to match documented values: RALPH_GIT_NAME defaults to "Kailash Gautham" and RALPH_GIT_EMAIL defaults to "kailash.gautham@gmail.com" in entrypoint.sh, but docker-ralph.sh --help documents these as defaulting to "Ralph" and "ralph@example.com"; this is a template repo meant for others to use, so the hardcoded personal name and email are wrong defaults; update the fallback values in entrypoint.sh to use "Ralph" and "ralph@example.com" to match the documented behaviour
[DONE] Extract the main-call retry loop in ralph-once.sh into a shared ralph-lib.sh function: the inline retry block in ralph-once.sh (lines 93â€“119, building CMD, running with optional timeout, capturing PIPESTATUS, sleeping with exponential backoff, and setting CLAUDE_EXIT) is nearly identical to the body of run_claude() in ralph.sh; the planning-call equivalent was already extracted as ralph_run_planning_call but the main call was not; add a ralph_run_main_call function to ralph-lib.sh that accepts the prompt string, uses the same globals (CLAUDE_MODEL, RALPH_TIMEOUT, RALPH_ALLOWED_TOOLS, MAX_RETRIES, RETRY_DELAY, LOGS_DIR), writes captured output to a nameref or a shared OUTPUT variable, and replace the inline block in ralph-once.sh with a call to this function so both scripts share one retry implementation
[DONE] Add tests for RALPH_LOG_KEEP validation and log-rotation skip: validate_non_negative_int was introduced to accept RALPH_LOG_KEEP=0 but there are no tests verifying this; add a test to tests/run_tests.sh that running ralph.sh with RALPH_LOG_KEEP=0 and a no-op mock claude exits 0 without a validation error, and a second test that RALPH_LOG_KEEP=abc exits 1 with a message matching "must be a non-negative integer"
[DONE] Add --dry-run and status subcommands to ralph-once.sh to match ralph.sh: ralph-once.sh currently has no way to preview the next pending task or check overall task status; ralph.sh already implements both subcommands; add --dry-run (prints the next pending task and exits 0) and status (prints completed/remaining counts and the full task list) to ralph-once.sh with the same logic and output format as ralph.sh, and document them in ralph-once.sh --help
[DONE] Document the prompt.txt override feature in README.md: both ralph.sh and ralph-once.sh silently load a custom prompt from prompt.txt when that file exists in the project root, replacing the default Claude prompt; this is a significant customisation point for users who want to change the task instructions or add project-specific context, but it is not mentioned anywhere in README.md; add a "Custom prompts" subsection under Architecture (or a note in the Quick start section) that explains the behaviour, shows what the default prompt contains, and gives an example of when a user would want to override it
