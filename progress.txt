# Progress Tracker
# Each completed task is logged here by the agent.
# Format: [DONE] Task description

[DONE] Deduplicate retry/backoff logic in ralph_run_main_call and ralph_run_planning_call: both functions in ralph-lib.sh implement an almost identical while-loop with exponential backoff (differing only in whether output is tee'd to a tmpfile for capture or streamed directly to a log); extract a shared internal helper _ralph_invoke_claude_with_retry that accepts the claude command array and a "capture to file" flag, runs the retry loop including the credit-exhaustion branch, and returns exit_code; rewrite ralph_run_main_call and ralph_run_planning_call as thin wrappers that build their respective cmd arrays and delegate to the helper, eliminating the duplicated while/sleep/backoff code
[DONE] Add tests for docker-ralph.sh status and --dry-run delegating to ralph.sh on the host: these two subcommands exec ralph.sh directly without Docker, but run_tests.sh has no coverage of this path; add two tests that set up a minimal git repo with PRD.md, provide a stub docker binary on PATH that always exits non-zero (to prove Docker is never invoked), and run docker-ralph.sh status / docker-ralph.sh --dry-run from inside the repo; assert exit 0 and that the output contains "Ralph Status" or "Next task:" respectively
