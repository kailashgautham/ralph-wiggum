# Progress Tracker
# Each completed task is logged here by the agent.
# Format: [DONE] Task description

[DONE] Extract the COMPLETE-handling block into a shared ralph_handle_complete() function in ralph-lib.sh: both ralph.sh (lines 206–228) and ralph-once.sh (lines 132–151) contain nearly identical logic that detects <promise>COMPLETE</promise> in OUTPUT, calls ralph_run_planning_call with the planning prompt, archives progress.txt to logs/, resets progress.txt to its header, and conditionally commits via ralph_commit_push_pr; extract this logic into a single ralph_handle_complete() function in ralph-lib.sh that accepts an iteration-label string parameter (e.g. "iteration $i" or "single iteration") used in the commit message and log output, and replace both duplicated blocks in ralph.sh and ralph-once.sh with calls to the new function
[DONE] Add a RALPH_PLAN_PROMPT environment variable to allow users to override the planning prompt without editing source files: ralph.sh (line 212) and ralph-once.sh (line 136) both hardcode the same planning prompt string; move this string into ralph-lib.sh as a module-level default (RALPH_DEFAULT_PLAN_PROMPT), then in ralph_handle_complete() (or wherever ralph_run_planning_call is invoked) use ${RALPH_PLAN_PROMPT:-$RALPH_DEFAULT_PLAN_PROMPT} so users can supply a custom planning prompt via the environment; document RALPH_PLAN_PROMPT in ralph.sh --help, ralph-once.sh --help, docker-ralph.sh --help, README.md's environment variables table, and add it to docker-ralph.sh's ENV_ARGS forwarding block
[DONE] Make docker-ralph.sh status and --dry-run call ralph.sh directly on the host instead of building the Docker image: lines 165–175 of docker-ralph.sh run docker build and docker run purely to execute ralph.sh status or ralph.sh --dry-run, which are read-only operations that require no container sandbox; replace this block with a direct exec of ralph.sh (resolved relative to docker-ralph.sh's own directory via dirname) so that status and dry-run are instant; if ralph.sh is not found in the same directory, print an error and exit 1
